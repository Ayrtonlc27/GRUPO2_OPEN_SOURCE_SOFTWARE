<div class="p-toolbar">
  <div class="p-toolbar-group-left">
    <h2>Lista de Ordenes</h2>
  </div>
  <div class="p-toolbar-group-right">
    <button pButton label="Crear Orden" icon="pi pi-plus"  (click)="crearOrden()" class="p-button-success"></button>
    </div>
</div>
<p-table [value]="ordenes" [paginator]="true" [rows]="5" [responsiveLayout]="'scroll'">
  <ng-template pTemplate="header">
    <tr>
      <th>Fecha Orden</th>
      <th>Fecha Requerida</th>
      <th>Proveedor</th>
      <th>Ver detalle</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-orden>
    <tr>
      <td>{{ orden.fechaOrden }}</td>
      <td>{{ orden.fechaRequerida }}</td>
      <td>{{ orden.proveedor }} {{ orden.ordenId }} A</td>
      <td>
        <button pButton icon="pi pi-search" (click)="verDetalle(orden.ordenId)"></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog [(visible)]="mostrarDialogoEdicion" header="Ver detalle de la orden" [modal]="true" [closable]="false" [style]="{width: '400px'}">
  <p-table [value]="ordendetalle" [paginator]="true" [rows]="5" [responsiveLayout]="'scroll'">
    <ng-template pTemplate="header">
      <tr>
        <th>Medicamento</th>
        <th>Cantidad</th>
        <th>Precio Unidad</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-detalle>
      <tr>
        <td colspan="3">En mantenimiento.</td>
        <!--<td>{{ detalle.fechaRequerida }}</td>
        <td>{{ detalle.ordenId }}</td>
        <td>{{ detalle | json }} A</td>-->
      </tr>
    </ng-template>
  </p-table>

  <footer class="dialog-footer" style="text-align: center;">
    <br>
    <button pButton label="Cancelar" icon="pi pi-times" (click)="cancelarEdicion()" class="p-button-secondary"></button>
  </footer>
</p-dialog>
