<!-- src/app/movimientos/movimientos.component.html -->  
<div class="movimientos-container">  
    <h2>Movimientos de Medicamentos</h2>  
    
    <!-- Botón para añadir nuevo movimiento -->  
    <div class="acciones-container">  
      <button   
        mat-raised-button   
        color="primary"   
        (click)="abrirDialogoNuevoMovimiento()">  
        <mat-icon>add</mat-icon> Nuevo Movimiento  
      </button>  
    </div>  
  
    <!-- Indicador de carga -->  
    <div *ngIf="cargando" class="cargando">  
      <mat-spinner></mat-spinner>  
    </div>  
  
    <!-- Mensaje de error -->  
    <div *ngIf="error" class="error-mensaje">  
      {{ error }}  
    </div>  
  
    <!-- Tabla de movimientos -->  
    <table mat-table [dataSource]="movimientos" class="mat-elevation-z8">  
      <!-- Columnas -->  
      <ng-container matColumnDef="medicamento">  
        <th mat-header-cell *matHeaderCellDef>Medicamento</th>  
        <td mat-cell *matCellDef="let movimiento">{{ movimiento.nombre_medicamento }}</td>  
      </ng-container>  
  
      <ng-container matColumnDef="tipoMovimiento">  
        <th mat-header-cell *matHeaderCellDef>Tipo de Movimiento</th>  
        <td mat-cell *matCellDef="let movimiento">{{ movimiento.tipo_movimiento }}</td>  
      </ng-container>  
  
      <ng-container matColumnDef="fecha">  
        <th mat-header-cell *matHeaderCellDef>Fecha</th>  
        <td mat-cell *matCellDef="let movimiento">  
          {{ movimiento.fecha_movimiento | date:'dd/MM/yyyy' }}  
        </td>  
      </ng-container>  
  
      <ng-container matColumnDef="cantidad">  
        <th mat-header-cell *matHeaderCellDef>Cantidad</th>  
        <td mat-cell *matCellDef="let movimiento">{{ movimiento.cantidad }}</td>  
      </ng-container>  
  
      <ng-container matColumnDef="usuario">  
        <th mat-header-cell *matHeaderCellDef>Usuario</th>  
        <td mat-cell *matCellDef="let movimiento">{{ movimiento.id_usuario }}</td>  
      </ng-container>  
  
      <!-- Columna de acciones -->  
      <ng-container matColumnDef="acciones">  
        <th mat-header-cell *matHeaderCellDef>Acciones</th>  
        <td mat-cell *matCellDef="let movimiento">  
          <button   
            mat-icon-button   
            color="primary"   
            (click)="editarMovimiento(movimiento)">  
            <mat-icon>edit</mat-icon>  
          </button>  
          <button   
            mat-icon-button   
            color="warn"   
            (click)="eliminarMovimiento(movimiento.id_movimiento)">  
            <mat-icon>delete</mat-icon>  
          </button>  
        </td>  
      </ng-container>  
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>  
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>  
    </table>  
  </div>  